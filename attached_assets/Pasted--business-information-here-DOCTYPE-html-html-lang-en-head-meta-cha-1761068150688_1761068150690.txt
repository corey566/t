<!-- business information here -->
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Receipt-{{$receipt_details->invoice_no}}</title>
    </head>
    <body>
        <div class="ticket">
			
			<!-- HEADER SECTION -->
			@if(empty($receipt_details->letter_head))
				@if(!empty($receipt_details->logo))
					<div class="header-logo">
						<img style="max-height: 100px; width: auto;" src="{{$receipt_details->logo}}" alt="Logo">
					</div>
				@endif
				<div class="header-details">
				<p class="centered">
					<!-- Header text -->
					@if(!empty($receipt_details->header_text))
						<span class="headings font-bold">{!! $receipt_details->header_text !!}</span>
						<br/>
					@endif

					<!-- business information here -->
					@if(!empty($receipt_details->display_name))
						<span class="headings font-extrabold text-lg">
							{{$receipt_details->display_name}}
						</span>
						<br/>
					@endif

					@if(!empty($receipt_details->address))
						{!! $receipt_details->address !!}
						<br/>
					@endif

					@if(!empty($receipt_details->contact))
						<br/>{!! $receipt_details->contact !!}
					@endif
					@if(!empty($receipt_details->contact) && !empty($receipt_details->website))
						,
					@endif
					@if(!empty($receipt_details->website))
						{{ $receipt_details->website }}
					@endif
					@if(!empty($receipt_details->location_custom_fields))
						<br>{{ $receipt_details->location_custom_fields }}
					@endif

					@if(!empty($receipt_details->sub_heading_line1))
						{{ $receipt_details->sub_heading_line1 }}<br/>
					@endif
					@if(!empty($receipt_details->sub_heading_line2))
						{{ $receipt_details->sub_heading_line2 }}<br/>
					@endif
					@if(!empty($receipt_details->sub_heading_line3))
						{{ $receipt_details->sub_heading_line3 }}<br/>
					@endif
					@if(!empty($receipt_details->sub_heading_line4))
						{{ $receipt_details->sub_heading_line4 }}<br/>
					@endif
					@if(!empty($receipt_details->sub_heading_line5))
						{{ $receipt_details->sub_heading_line5 }}<br/>
					@endif

					@if(!empty($receipt_details->tax_info1))
						<div class="tax-info-row"><b>{{ $receipt_details->tax_label1 }}</b>: {{ $receipt_details->tax_info1 }}</div>
					@endif

					@if(!empty($receipt_details->tax_info2))
						<div class="tax-info-row"><b>{{ $receipt_details->tax_label2 }}</b>: {{ $receipt_details->tax_info2 }}</div>
					@endif
			</p>
				</div>
			@endif
				@if(!empty($receipt_details->letter_head))
					<div class="header-details">
						<img style="width: 100%;margin-bottom: 10px;" src="{{$receipt_details->letter_head}}">
					</div>
				@endif
			
			<!-- META INFO SECTION -->
			<div class="divider mt-2 mb-2"></div>
			
			<div class="info-row">
				<div class="info-label"><strong>{!! $receipt_details->invoice_no_prefix !!}</strong></div>
				<div class="info-value">{{$receipt_details->invoice_no}}</div>
			</div>
			<div class="info-row">
				<div class="info-label"><strong>{!! $receipt_details->date_label !!}</strong></div>
				<div class="info-value">{{$receipt_details->invoice_date}}</div>
			</div>

			@if(!empty($receipt_details->due_date_label))
				<div class="info-row">
					<div class="info-label"><strong>{{$receipt_details->due_date_label}}</strong></div>
					<div class="info-value">{{$receipt_details->due_date ?? ''}}</div>
				</div>
			@endif

			@if(!empty($receipt_details->sales_person_label))
				<div class="info-row">
					<div class="info-label"><strong>{{$receipt_details->sales_person_label}}</strong></div>
					<div class="info-value">{{$receipt_details->sales_person}}</div>
				</div>
			@endif
			
			@if(!empty($receipt_details->commission_agent_label))
				<div class="info-row">
					<div class="info-label"><strong>{{$receipt_details->commission_agent_label}}</strong></div>
					<div class="info-value">{{$receipt_details->commission_agent}}</div>
				</div>
			@endif

			<!-- Repair/Device Info -->
			@if(!empty($receipt_details->brand_label) || !empty($receipt_details->repair_brand))
				<div class="info-row">
					<div class="info-label"><strong>{{$receipt_details->brand_label}}</strong></div>
					<div class="info-value">{{$receipt_details->repair_brand}}</div>
				</div>
			@endif

			@if(!empty($receipt_details->device_label) || !empty($receipt_details->repair_device))
				<div class="info-row">
					<div class="info-label"><strong>{{$receipt_details->device_label}}</strong></div>
					<div class="info-value">{{$receipt_details->repair_device}}</div>
				</div>
			@endif

			@if(!empty($receipt_details->model_no_label) || !empty($receipt_details->repair_model_no))
				<div class="info-row">
					<div class="info-label"><strong>{{$receipt_details->model_no_label}}</strong></div>
					<div class="info-value">{{$receipt_details->repair_model_no}}</div>
				</div>
			@endif

			@if(!empty($receipt_details->serial_no_label) || !empty($receipt_details->repair_serial_no))
				<div class="info-row">
					<div class="info-label"><strong>{{$receipt_details->serial_no_label}}</strong></div>
					<div class="info-value">{{$receipt_details->repair_serial_no}}</div>
				</div>
			@endif

			@if(!empty($receipt_details->repair_status_label) || !empty($receipt_details->repair_status))
				<div class="info-row">
					<div class="info-label"><strong>{!! $receipt_details->repair_status_label !!}</strong></div>
					<div class="info-value">{{$receipt_details->repair_status}}</div>
				</div>
        	@endif

        	@if(!empty($receipt_details->repair_warranty_label) || !empty($receipt_details->repair_warranty))
	        	<div class="info-row">
	        		<div class="info-label"><strong>{!! $receipt_details->repair_warranty_label !!}</strong></div>
	        		<div class="info-value">{{$receipt_details->repair_warranty}}</div>
	        	</div>
        	@endif

        	<!-- Service/Table info -->
			@if(!empty($receipt_details->service_staff_label) || !empty($receipt_details->service_staff))
	        	<div class="info-row">
	        		<div class="info-label"><strong>{!! $receipt_details->service_staff_label !!}</strong></div>
	        		<div class="info-value">{{$receipt_details->service_staff}}</div>
	        	</div>
	        @endif

	        @if(!empty($receipt_details->table_label) || !empty($receipt_details->table))
	        	<div class="info-row">
	        		<div class="info-label"><strong>{!! $receipt_details->table_label !!}</strong></div>
	        		<div class="info-value">{{$receipt_details->table}}</div>
	        	</div>
	        @endif

			<!-- Custom Sell Fields -->
			@if (!empty($receipt_details->sell_custom_field_1_value))
				<div class="info-row">
					<div class="info-label"><strong>{!! $receipt_details->sell_custom_field_1_label !!}</strong></div>
					<div class="info-value">{{$receipt_details->sell_custom_field_1_value}}</div>
				</div>
			@endif
			@if (!empty($receipt_details->sell_custom_field_2_value))
				<div class="info-row">
					<div class="info-label"><strong>{!! $receipt_details->sell_custom_field_2_label !!}</strong></div>
					<div class="info-value">{{$receipt_details->sell_custom_field_2_value}}</div>
				</div>
			@endif
			@if (!empty($receipt_details->sell_custom_field_3_value))
				<div class="info-row">
					<div class="info-label"><strong>{!! $receipt_details->sell_custom_field_3_label !!}</strong></div>
					<div class="info-value">{{$receipt_details->sell_custom_field_3_value}}</div>
				</div>
			@endif
			@if (!empty($receipt_details->sell_custom_field_4_value))
				<div class="info-row">
					<div class="info-label"><strong>{!! $receipt_details->sell_custom_field_4_label !!}</strong></div>
					<div class="info-value">{{$receipt_details->sell_custom_field_4_value}}</div>
				</div>
			@endif

	        <!-- Customer Info -->
			<div class="divider mt-2 mb-2"></div>
	        <div class="customer-info-box">
	        	<p class="customer-label"><strong>{{$receipt_details->customer_label ?? ''}}</strong></p>
	        	<p class="customer-details">
	        		@if(!empty($receipt_details->customer_info))
	        			<div class="bw">
						{!! $receipt_details->customer_info !!}
						</div>
					@endif
	        	</p>
	        </div>
			
			<!-- Customer Meta -->
			@if(!empty($receipt_details->client_id_label))
				<div class="info-row">
					<div class="info-label"><strong>{{ $receipt_details->client_id_label }}</strong></div>
					<div class="info-value">{{ $receipt_details->client_id }}</div>
				</div>
			@endif

			@if(!empty($receipt_details->customer_tax_label))
				<div class="info-row">
					<div class="info-label"><strong>{{ $receipt_details->customer_tax_label }}</strong></div>
					<div class="info-value">{{ $receipt_details->customer_tax_number }}</div>
				</div>
			@endif

			@if(!empty($receipt_details->customer_custom_fields))
				<div class="info-row centered" style="margin-top: 5px;">
					{!! $receipt_details->customer_custom_fields !!}
				</div>
			@endif

			@if(!empty($receipt_details->customer_rp_label))
				<div class="info-row">
					<div class="info-label"><strong>{{ $receipt_details->customer_rp_label }}</strong></div>
					<div class="info-value">{{ $receipt_details->customer_total_rp }}</div>
				</div>
			@endif
			
			<!-- Shipping Info -->
			@if(!empty($receipt_details->shipping_custom_field_1_label))
				<div class="info-row">
					<div class="info-label"><strong>{!!$receipt_details->shipping_custom_field_1_label!!}</strong></div>
					<div class="info-value">{!!$receipt_details->shipping_custom_field_1_value ?? ''!!}</div>
				</div>
			@endif
			@if(!empty($receipt_details->shipping_custom_field_2_label))
				<div class="info-row">
					<div class="info-label"><strong>{!!$receipt_details->shipping_custom_field_2_label!!}</strong></div>
					<div class="info-value">{!!$receipt_details->shipping_custom_field_2_value ?? ''!!}</div>
				</div>
			@endif
			@if(!empty($receipt_details->shipping_custom_field_3_label))
				<div class="info-row">
					<div class="info-label"><strong>{!!$receipt_details->shipping_custom_field_3_label!!}</strong></div>
					<div class="info-value">{!!$receipt_details->shipping_custom_field_3_value ?? ''!!}</div>
				</div>
			@endif
			@if(!empty($receipt_details->shipping_custom_field_4_label))
				<div class="info-row">
					<div class="info-label"><strong>{!!$receipt_details->shipping_custom_field_4_label!!}</strong></div>
					<div class="info-value">{!!$receipt_details->shipping_custom_field_4_value ?? ''!!}</div>
				</div>
			@endif
			@if(!empty($receipt_details->shipping_custom_field_5_label))
				<div class="info-row">
					<div class="info-label"><strong>{!!$receipt_details->shipping_custom_field_5_label!!}</strong></div>
					<div class="info-value">{!!$receipt_details->shipping_custom_field_5_value ?? ''!!}</div>
				</div>
			@endif
			@if(!empty($receipt_details->sale_orders_invoice_no))
				<div class="info-row">
					<div class="info-label"><strong>@lang('restaurant.order_no')</strong></div>
					<div class="info-value">{!!$receipt_details->sale_orders_invoice_no ?? ''!!}</div>
				</div>
			@endif

			@if(!empty($receipt_details->sale_orders_invoice_date))
				<div class="info-row">
					<div class="info-label"><strong>@lang('lang_v1.order_dates')</strong></div>
					<div class="info-value">{!!$receipt_details->sale_orders_invoice_date ?? ''!!}</div>
				</div>
			@endif
			
			<div class="divider-thick mt-2 mb-2"></div>
			
			<!-- ITEMS SECTION -->
            <table class="items-table">
				<thead>
					<tr class="item-header">
						<th class="text-left item-description-col">ITEM DESCRIPTION</th>
						<th class="text-center item-qty-col">QTY</th>
						<th class="text-right item-price-col">AMOUNT</th>
					</tr>
				</thead>
                <tbody>
                	@forelse($receipt_details->lines as $line)
	                    <tr class="item-line">
	                        <td colspan="3">
	                        	<div class="item-name-row">
	                        		<p class="m-0 item-num">#{{$loop->iteration}}.&nbsp;</p>
	                        		<p class="text-left m-0 item-title">{{$line['name']}}
			                        	@if(!empty($line['sub_sku'])), {{$line['sub_sku']}} @endif @if(!empty($line['brand'])), {{$line['brand']}} @endif @if(!empty($line['cat_code'])), {{$line['cat_code']}}@endif
			                        	@if(!empty($line['product_custom_fields'])), {{$line['product_custom_fields']}} @endif
			                        	@if(!empty($line['product_description']))
			                        		<br>
			                            	<span class="f-8 sub-text">
			                            		{!!$line['product_description']!!}
			                            	</span>
			                            @endif
			                        	@if(!empty($line['sell_line_note']))
			                        	<br>
	                        			<span class="f-8 sub-text">
			                        	{!!$line['sell_line_note']!!}
			                        	</span>
			                        	@endif
			                        	@if(!empty($line['lot_number']))<span class="sub-text"><br> {{$line['lot_number_label']}}:  {{$line['lot_number']}}</span> @endif
			                        	@if(!empty($line['product_expiry'])), <span class="sub-text">{{$line['product_expiry_label']}}:  {{$line['product_expiry']}}</span> @endif

			                        	@if(!empty($line['variation']))
			                        		,
			                        		<span class="sub-text">{{$line['product_variation']}} {{$line['variation']}}</span>
			                        	@endif
			                        	@if(!empty($line['warranty_name']))
			                            	,
			                            	<small class="sub-text">
			                            		{{$line['warranty_name']}}
			                            	</small>
			                            @endif
			                            @if(!empty($line['warranty_exp_date']))
			                            	<small class="sub-text">
			                            		- {{@format_date($line['warranty_exp_date'])}}
			                            	</small>
			                            @endif
			                            @if(!empty($line['warranty_description']))
			                            	<small class="sub-text"> {{$line['warranty_description'] ?? ''}}</small>
			                            @endif

			                            @if($receipt_details->show_base_unit_details && $line['quantity'] && $line['base_unit_multiplier'] !== 1)
				                            <br><small class="sub-text">
				                            	1 {{$line['units']}} = {{$line['base_unit_multiplier']}} {{$line['base_unit_name']}} <br> {{$line['quantity']}} x {{$line['base_unit_multiplier']}} = {{$line['orig_quantity']}} {{$line['base_unit_name']}} <br>
                            					{{$line['base_unit_price']}} x {{$line['orig_quantity']}} = {{$line['line_total']}}
				                            </small>
				                            @endif

				                            @if(!empty($line['service_staff_name']))
				                            	<br>
				                            	<small class="sub-text"><strong>Service Staff:</strong> {{$line['service_staff_name']}}</small>
				                            @endif
	                        		</p>
	                        	</div>
	                        	<div class="item-price-row">
	                        		<p class="qty-calc m-0 bw" style="direction: ltr;">
	                        			{{$line['quantity']}}
	                        			@if(empty($receipt_details->hide_price))
	                        			x {{$line['unit_price_before_discount']}}

	                        			@if(!empty($line['total_line_discount']) && $line['total_line_discount'] != 0)
	                        				- {{$line['total_line_discount']}}
	                        			@endif
	                        			@endif
	                        		</p>
	                        		@if(empty($receipt_details->hide_price))
	                        		<p class="item-total m-0 bw font-medium">{{$line['line_total']}}</p>
	                        		@endif
	                        	</div>
	                        </td>
	                    </tr>
	                    @if(!empty($line['modifiers']))
							@foreach($line['modifiers'] as $modifier)
								<tr class="modifier-line">
									<td colspan="3">
										<div class="item-name-row modifier-name-row">
	                        				<p class="m-0 item-num" style="width: 28px;"></p>
	                        				<p class="text-left m-0 item-title sub-text-dark">
	                        					- {{$modifier['name']}}
	                        					@if(!empty($modifier['sub_sku'])), {{$modifier['sub_sku']}} @endif @if(!empty($modifier['cat_code'])), {{$modifier['cat_code']}}@endif
			                            		@if(!empty($modifier['sell_line_note']))({!!$modifier['sell_line_note']!!}) @endif
	                        				</p>
	                        				<p class="text-right m-0 sub-text-dark item-variation">{{$modifier['variation']}}</p>
	                        			</div>
	                        			<div class="item-price-row">
	                        				<p class="qty-calc">
	                        					{{$modifier['quantity']}}
	                        					@if(empty($receipt_details->hide_price))
	                        					x {{$modifier['unit_price_inc_tax']}}
	                        					@endif
	                        				</p>
	                        				<p class="item-total sub-text-dark">
	                        					{{$modifier['line_total']}}
	                        				</p>
	                        			</div>
			                        </td>
			                    </tr>
							@endforeach
						@endif
                    @empty
						<tr><td colspan="3" class="centered">No items found.</td></tr>
                    @endforelse
                </tbody>
            </table>
			
			<div class="divider-thick mt-2 mb-2"></div>
			
			<!-- TOTALS AND SUMMARY -->
            @if(!empty($receipt_details->total_quantity_label))
				<div class="summary-row">
					<p class="summary-label">
						{!! $receipt_details->total_quantity_label !!}
					</p>
					<p class="summary-value">
						{{$receipt_details->total_quantity}}
					</p>
				</div>
			@endif
			@if(!empty($receipt_details->total_items_label))
				<div class="summary-row">
					<p class="summary-label">
						{!! $receipt_details->total_items_label !!}
					</p>
					<p class="summary-value">
						{{$receipt_details->total_items}}
					</p>
				</div>
			@endif
			
			@if(empty($receipt_details->hide_price) && !empty($receipt_details->lines))
            <div class="summary-row font-bold subtotal-row">
                <p class="summary-label">
                	{!! $receipt_details->subtotal_label !!}
                </p>
                <p class="summary-value">
                	{{$receipt_details->subtotal}}
                </p>
            </div>
			<div class="divider-dashed mt-1 mb-1"></div>

            <!-- Shipping Charges -->
			@if(!empty($receipt_details->shipping_charges))
				<div class="summary-row">
					<p class="summary-label">
						{!! $receipt_details->shipping_charges_label !!}
					</p>
					<p class="summary-value">
						{{$receipt_details->shipping_charges}}
					</p>
				</div>
			@endif

			@if(!empty($receipt_details->packing_charge))
				<div class="summary-row">
					<p class="summary-label">
						{!! $receipt_details->packing_charge_label !!}
					</p>
					<p class="summary-value">
						{{$receipt_details->packing_charge}}
					</p>
				</div>
			@endif

			<!-- Discount -->
			@if( !empty($receipt_details->discount) )
				<div class="summary-row discount-row">
					<p class="summary-label">
						{!! $receipt_details->discount_label !!}
					</p>
					<p class="summary-value">
						(-) {{$receipt_details->discount}}
					</p>
				</div>
			@endif

			@if( !empty($receipt_details->total_line_discount) )
				<div class="summary-row discount-row">
					<p class="summary-label">
						{!! $receipt_details->line_discount_label !!}
					</p>

					<p class="summary-value">
						(-) {{$receipt_details->total_line_discount}}
					</p>
				</div>
			@endif

			@if( !empty($receipt_details->additional_expenses) )
				@foreach($receipt_details->additional_expenses as $key => $val)
					<div class="summary-row">
						<p class="summary-label">
							{{$key}}:
						</p>

						<p class="summary-value">
							(+) {{$val}}
						</p>
					</div>
				@endforeach
			@endif

			@if(!empty($receipt_details->reward_point_label) )
				<div class="summary-row discount-row">
					<p class="summary-label">
						{!! $receipt_details->reward_point_label !!}
					</p>

					<p class="summary-value">
						(-) {{$receipt_details->reward_point_amount}}
					</p>
				</div>
			@endif

			@if( !empty($receipt_details->tax) )
				<div class="summary-row tax-row">
					<p class="summary-label">
						{!! $receipt_details->tax_label !!}
					</p>
					<p class="summary-value">
						(+) {{$receipt_details->tax}}
					</p>
				</div>
			@endif

			@if( $receipt_details->round_off_amount > 0)
				<div class="summary-row tax-row">
					<p class="summary-label">
						{!! $receipt_details->round_off_label !!}
					</p>
					<p class="summary-value">
						{{$receipt_details->round_off}}
					</p>
				</div>
			@endif
			
			<div class="divider-dashed mt-1 mb-1"></div>

			<div class="summary-row total-amount-row">
				<p class="summary-label">
					<strong>{!! $receipt_details->total_label !!}</strong>
				</p>
				<p class="summary-value total-value font-extrabold text-xl">
					<strong>{{$receipt_details->total}}</strong>
				</p>
			</div>
			
			<div class="divider-dashed mt-1 mb-1"></div>
			
			@if(!empty($receipt_details->total_in_words))
				<p class="total-words">
					<small>
					(Total in Words: {{$receipt_details->total_in_words}})
					</small>
				</p>
			@endif
			
			<!-- PAYMENTS -->
			@if(!empty($receipt_details->payments))
				<div class="payment-section">
					<p class="payment-header">--- PAYMENTS ---</p>
					@foreach($receipt_details->payments as $payment)
						<div class="summary-row">
							<p class="summary-label payment-label">{{$payment['method']}} ({{$payment['date']}}) </p>
							<p class="summary-value payment-value">{{$payment['amount']}}</p>
						</div>
					@endforeach
				</div>
			@endif
            <!-- Total Paid-->
				@if(!empty($receipt_details->total_paid))
					<div class="summary-row total-paid-row">
						<p class="summary-label">
							{!! $receipt_details->total_paid_label !!}
						</p>
						<p class="summary-value">
							{{$receipt_details->total_paid}}
						</p>
					</div>
				@endif

				<!-- Total Due-->
				@if(!empty($receipt_details->total_due) && !empty($receipt_details->total_due_label))
					<div class="summary-row total-due-row">
						<p class="summary-label font-bold">
							{!! $receipt_details->total_due_label !!}
						</p>
						<p class="summary-value font-bold text-red-600">
							{{$receipt_details->total_due}}
						</p>
					</div>
				@endif

				@if(!empty($receipt_details->all_due))
					<div class="summary-row all-due-row">
						<p class="summary-label font-bold">
							{!! $receipt_details->all_bal_label !!}
						</p>
						<p class="summary-value font-bold text-red-600">
							{{$receipt_details->all_due}}
						</p>
					</div>
				@endif
			@endif
            
            @if(empty($receipt_details->hide_price) && !empty($receipt_details->tax_summary_label) )
	            <div class="divider-dashed mt-2 mb-2"></div>
	            <!-- tax summary -->
	            @if(!empty($receipt_details->taxes))
	            	<table class="tax-summary-table">
	            		<thead>
	            			<tr>
	            				<th colspan="2" class="text-center tax-header">{{$receipt_details->tax_summary_label}}</th>
	            			</tr>
	            		</thead>
						<tbody>
	            		@foreach($receipt_details->taxes as $key => $val)
	            			<tr>
	            				<td class="text-left tax-label">{{$key}}</td>
	            				<td class="text-right tax-value">{{$val}}</td>
	            			</tr>
	            		@endforeach
						</tbody>
	            	</table>
	            @endif
            @endif

            @if(!empty($receipt_details->additional_notes))
	            <div class="divider-thick mt-2 mb-2"></div>
	            <p class="centered additional-notes" >
	            	{!! nl2br($receipt_details->additional_notes) !!}
	            </p>
            @endif

            {{-- Barcode --}}
			@if($receipt_details->show_barcode)
				<div class="centered mt-2">
					<img class="barcode-img" src="data:image/png;base64,{{DNS1D::getBarcodePNG($receipt_details->invoice_no, 'C128', 2,30,array(39, 48, 54), true)}}" alt="Barcode">
				</div>
			@endif

			@if($receipt_details->show_qr_code && !empty($receipt_details->qr_code_text))
				<div class="centered mt-2">
					<img class="qrcode-img" src="data:image/png;base64,{{DNS2D::getBarcodePNG($receipt_details->qr_code_text, 'QRCODE')}}" alt="QR Code">
				</div>
			@endif

			{{-- Reward Points Section --}}
			@if(!empty($receipt_details->rp_enabled))
			    <div class="divider-dashed mt-2 mb-2"></div>
			    <div class="rp-status-box">
			        <p class="rp-text">
			            <strong>Points Status:</strong> Before: {{ $receipt_details->rp_before ?? 0 }} | Used: {{ $receipt_details->rp_used ?? 0 }} | Earned: {{ $receipt_details->rp_earned ?? 0 }} | Balance: {{ $receipt_details->rp_available ?? 0 }}
			        </p>
			    </div>
			@endif
			
			<div class="divider-thick mt-2 mb-2"></div>
            @if(!empty($receipt_details->footer_text))
                <p class="centered footer-text">{!! $receipt_details->footer_text !!}</p>
            @endif
        </div>
    </body>
</html>

<style type="text/css">
/* Utility Classes */
.m-0 { margin: 0; }
.mt-2 { margin-top: 8px; }
.mb-2 { margin-bottom: 8px; }
.mt-1 { margin-top: 4px; }
.mb-1 { margin-bottom: 4px; }
.text-left { text-align: left; }
.text-right { text-align: right; }
.text-center { text-align: center; }
.font-bold { font-weight: 700; }
.font-extrabold { font-weight: 800; }
.font-medium { font-weight: 500; }
.text-lg { font-size: 16px; }
.text-xl { font-size: 18px; }
.bw { word-break: break-word; }
.sub-text { font-size: 10px; color: #555; }
.sub-text-dark { font-size: 10px; color: #333; }

/* Base Styles */
body {
	color: #000000;
	font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"; /* Modern font stack */
	line-height: 1.4;
}

/* Receipt Container */
.ticket {
	width: 100%;
	max-width: 320px; /* Designed for narrow thermal printer look */
	margin: 0 auto;
	padding: 10px 0;
}

/* Centering */
.centered {
	text-align: center;
	align-content: center;
}
.header-logo, .header-details {
	margin-bottom: 10px;
}
.header-logo img {
	display: block;
	margin: 0 auto;
}
.header-details p {
	line-height: 1.3;
}
.headings {
	font-size: 14px;
	text-transform: uppercase;
}
.tax-info-row {
	font-size: 12px;
}

/* Dividers */
.divider {
	border-top: 1px solid #ccc;
}
.divider-dashed {
	border-top: 1px dashed #999;
}
.divider-thick {
	border-top: 2px solid #000;
}

/* Info Rows (Two-Column Layout) */
.info-row {
	display: flex;
	justify-content: space-between;
	font-size: 12px;
	padding: 2px 0;
	border-bottom: 1px dotted #ccc;
}
.info-label {
	width: 45%;
	text-align: left;
}
.info-value {
	width: 55%;
	text-align: right;
	word-break: break-word;
}
.customer-info-box {
	padding: 5px 0;
	border-top: 1px dotted #ccc;
	border-bottom: 1px dotted #ccc;
}
.customer-label {
	font-size: 12px;
	margin-bottom: 2px;
}
.customer-details {
	font-size: 12px;
	line-height: 1.3;
}


/* Items Table */
.items-table {
	width: 100%;
	border-collapse: collapse;
}
.item-header {
	font-size: 12px;
	font-weight: bold;
	padding: 5px 0;
	border-bottom: 1px solid #000;
}
.item-description-col { width: 50%; }
.item-qty-col { width: 15%; text-align: center; }
.item-price-col { width: 35%; text-align: right; }

.item-line, .modifier-line {
	padding-top: 5px;
	padding-bottom: 5px;
	border-bottom: 1px dotted #ddd;
}
.item-name-row {
	display: flex;
	width: 100%;
	font-size: 12px;
	padding-top: 5px;
}
.item-num {
	width: 10%;
	white-space: nowrap;
}
.item-title {
	width: 90%;
}
.item-price-row {
	display: flex;
	justify-content: space-between;
	font-size: 12px;
	padding-bottom: 5px;
	padding-left: 10%; /* Indent for Qty/Price line */
}
.qty-calc {
	width: 60%;
	text-align: left;
	font-size: 11px;
}
.item-total {
	width: 40%;
	text-align: right;
	font-size: 12px;
}
.modifier-name-row {
	padding-left: 15px; /* Further indent modifiers */
	font-style: italic;
	font-size: 11px;
}
.item-variation {
	font-size: 10px;
}

/* Summary Rows */
.summary-row {
	display: flex;
	justify-content: space-between;
	font-size: 12px;
	padding: 2px 0;
}
.summary-label {
	width: 60%;
	text-align: left;
}
.summary-value {
	width: 40%;
	text-align: right;
}
.subtotal-row {
	padding-top: 5px;
}
.total-amount-row {
	padding: 5px 0;
	border-top: 1px solid #000;
	border-bottom: 1px solid #000;
}
.total-value {
	font-size: 16px;
	color: #000;
}
.total-words {
	text-align: right;
	font-size: 10px;
	margin-top: 5px;
}
.discount-row {
	color: #e53e3e; /* Red color for discounts/deductions */
}
.tax-row {
	color: #2b6cb0; /* Blue color for taxes */
}
.payment-section {
	margin-top: 8px;
	padding-top: 5px;
	border-top: 1px dotted #ccc;
}
.payment-header {
	font-size: 11px;
	text-align: center;
	margin-bottom: 5px;
	font-weight: bold;
}
.payment-label, .payment-value {
	font-size: 11px;
}
.total-due-row, .all-due-row {
	margin-top: 5px;
	border-top: 1px dotted #ccc;
}
.total-due-row .summary-value, .all-due-row .summary-value {
	color: #c53030;
	font-size: 14px;
}

/* Tax Summary Table */
.tax-summary-table {
	width: 100%;
	font-size: 11px;
}
.tax-header {
	padding: 5px 0;
	font-weight: bold;
	text-transform: uppercase;
}
.tax-summary-table td {
	padding: 2px 0;
}

/* Footer / Barcode / RP */
.additional-notes {
	font-size: 11px;
	line-height: 1.3;
}
.barcode-img, .qrcode-img {
	display: block;
	margin: 0 auto;
}
.rp-status-box {
	font-size: 11px;
	text-align: center;
	padding: 5px 0;
	border-top: 1px solid #000;
	border-bottom: 1px solid #000;
}
.rp-text {
	margin: 0;
}
.footer-text {
	font-size: 11px;
	padding-top: 5px;
	border-top: 1px solid #000;
}

/* Print Specific Overrides */
@media print {
	* {
    	font-size: 12px;
    	font-family: 'Times New Roman', serif; /* Use serif for better print clarity */
    	word-break: break-all;
		line-height: 1.3;
	}
	.ticket {
		max-width: none; /* Let the printer control the width */
	}
	.f-8, .sub-text, .sub-text-dark {
		font-size: 9px !important;
		color: #000 !important;
	}
	.headings{
		font-size: 15px;
	}
	.total-value {
		font-size: 18px;
	}
	/* Ensure all borders print clearly */
	.divider, .divider-thick, .divider-dashed, .info-row, .item-line, .modifier-line, .total-amount-row {
		border-color: #000 !important;
		border-style: solid !important;
	}
	.divider-dashed {
		border-style: dashed !important;
	}
	.info-row {
		border-bottom: 1px dashed #000 !important;
	}
}
</style>
